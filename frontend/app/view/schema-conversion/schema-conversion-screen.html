<div class="summary-main-content" id='schema-screen-content'>
    <div id="snackbar" style="z-index: 10000 !important; position: fixed;"></div>
    <div class='spinner-backdrop' id='toggle-spinner'>
        <div id="spinner"></div>
    </div>
    <div>
        <h4 class="report-header">Recommended Schema Conversion Report
            <button id="download-schema" class="download-button" onclick='downloadSession()'>Download Session
                File</button>
        </h4>
    </div>
    <div class="report-tabs">
        <ul class="nav nav-tabs md-tabs" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="reportTab" data-toggle="tab" href="#report" role="tab"
                    aria-controls="report" onclick="findTab(this.id)" aria-selected="true">Conversion Report</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="ddlTab" data-toggle="tab" href="#ddl" role="tab" aria-controls="ddl"
                    onclick="findTab(this.id)" aria-selected="false">DDL Statements</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="summaryTab" data-toggle="tab" href="#summary" role="tab" aria-controls="summary"
                    onclick="findTab(this.id)" aria-selected="false">Summary Report</a>
            </li>
        </ul>
    </div>
    <div class="status-icons">
        <form class="form-inline d-flex justify-content-center md-form form-sm mt-0 search-form" id='reportSearchForm'>
            <i class="fas fa-search" aria-hidden="true"></i>
            <input class="form-control form-control-sm ml-3 w-75 search-box" type="text" placeholder="Search table"
                autocomplete='off' aria-label="Search" onkeyup='searchTable("reportSearchInput")'
                id='reportSearchInput'>
        </form>
        <form class="form-inline d-flex justify-content-center md-form form-sm mt-0 search-form"
            style='display: none !important;' id='ddlSearchForm'>
            <i class="fas fa-search" aria-hidden="true"></i>
            <input class="form-control form-control-sm ml-3 w-75 search-box" type="text" placeholder="Search table"
                id='ddlSearchInput' autocomplete='off' aria-label="Search" onkeyup='searchTable("ddlSearchInput")'>
        </form>
        <form class="form-inline d-flex justify-content-center md-form form-sm mt-0 search-form"
            style='display: none !important;' id='summarySearchForm'>
            <i class="fas fa-search" aria-hidden="true"></i>
            <input class="form-control form-control-sm ml-3 w-75 search-box" type="text" placeholder="Search table"
                id='summarySearchInput' autocomplete='off' aria-label="Search"
                onkeyup='searchTable("summarySearchInput")'>
        </form>
        <section class="cus-tip">
            <span class="cus-a info-icon statusTooltip">
                <i class="large material-icons">info</i>
                <span class="legend-icon statusTooltip"
                    style='cursor: pointer;display: inline-block;vertical-align: super;'>Status&nbsp;&nbsp;Legend</span>
            </span>
            <div class="legend-hover">
                <div class="legend-status">
                    <span class="excellent"></span>
                    Excellent
                </div>
                <div class="legend-status">
                    <span class="good"></span>
                    Good
                </div>
                <div class="legend-status">
                    <span class="avg"></span>
                    Average
                </div>
                <div class="legend-status">
                    <span class="poor"></span>
                    Poor
                </div>
            </div>
        </section>
    </div>
    <div class="tab-bg" id='tabBg'>
        <div class="tab-content">
            <div id="report" class="tab-pane fade show active">
                <div class="accordion md-accordion" id="accordion" role="tablist" aria-multiselectable="true">
                    <button class='expand' id='reportExpandButton' onclick='reportExpandHandler(jQuery(this))'>Expand
                        All</button>
                    <button class='expand right-align' id='editButton' onclick='globalEditHandler()'>Edit Global Data
                        Type</button>
                    <div id='reportDiv'>
                        <section class='reportSection template'>
                            <div class='card'>
                                <div role='tab' class='card-header report-card-header borderBottom'>
                                    <h5 class='mb-0'>
                                        <a data-toggle='collapse'>
                                            Table: <span></span> <i class="fas fa-angle-down rotate-icon"></i>
                                        </a>
                                        <span class='spanner-text right-align hide-content'>Spanner</span>
                                        <span class='spanner-icon right-align hide-content'>
                                            <i class='large material-icons' style='font-size: 18px;'>circle</i>
                                        </span>
                                        <span class='source-text right-align hide-content'>Source</span>
                                        <span class='source-icon right-align hide-content'>
                                            <i class='large material-icons' style='font-size: 18px;'>circle</i>
                                        </span>
                                        <button class='right-align edit-button hide-content'>
                                            Edit Spanner Schema
                                        </button>
                                        <span class='right-align edit-instruction hide-content blink'>Schema locked for
                                            editing. Unlock to change =></span>
                                    </h5>
                                </div>
                                <div class='collapse reportCollapse'>
                                    <div class='mdc-card mdc-card-content table-card-border'>
                                        <div class='acc-card-content' id='acc_card_content'>
                                            <table class='acc-table'>
                                                <thead>
                                                    <tr>
                                                        <th class='acc-column' colspan='2'>Column Name</th>
                                                        <th class='acc-column' colspan='2'>Data Type</th>
                                                        <th class='acc-column' colspan='2'>Constraints</th>
                                                    </tr>
                                                    <tr>
                                                        <th class='acc-table-th-src src-tab-cell'>
                                                            <span class="bmd-form-group is-filled template">
                                                                <div class="checkbox">
                                                                    <label>
                                                                        <input type="checkbox" value="">
                                                                        <span class="checkbox-decorator"><span
                                                                                class="check"
                                                                                style='margin-left: -7px;'></span>
                                                                            <div class="ripple-container"></div>
                                                                        </span>
                                                                    </label>
                                                                </div>
                                                            </span>
                                                        </th>
                                                        <th class='acc-table-th-spn'>Spanner</th>
                                                        <th class='acc-table-th-src'></th>
                                                        <th class='acc-table-th-spn'>Spanner</th>
                                                        <th class='acc-table-th-src'></th>
                                                        <th class='acc-table-th-spn'>Spanner</th>
                                                    </tr>
                                                </thead>
                                                <tbody class='acc-table-body'>
                                                    <tr class='reportTableContent template'>
                                                        <td class='acc-table-td src-tab-cell'>
                                                            <span
                                                                class="bmd-form-group is-filled eachRowChckBox template">
                                                                <div class="checkbox">
                                                                    <label>
                                                                        <input type="checkbox" value="">
                                                                        <span class="checkbox-decorator"><span
                                                                                class="check"></span>
                                                                            <div class="ripple-container"></div>
                                                                        </span>
                                                                    </label>
                                                                </div>
                                                            </span>
                                                            <span class="column left">
                                                                <img class='srcPk'
                                                                    src='./assets/images/Icons/ic_vpn_key_24px.svg'
                                                                    style='margin-left: 3px;'>
                                                            </span>
                                                            <span class="column right srcColumn"></span>
                                                        </td>
                                                        <td class='sp-column acc-table-td spannerColName'>
                                                            <div class='editColumnName template'>
                                                                <span class="column left key-margin key-click">
                                                                    <sub></sub><img>
                                                                </span>
                                                                <span class="column right form-group">
                                                                    <input type="text"
                                                                        class="form-control spanner-input"
                                                                        autocomplete='off'>
                                                                </span>
                                                            </div>
                                                            <div class='saveColumnName template'>
                                                                <span class="column left spannerPkSpan">
                                                                    <sub></sub>
                                                                    <img src='./assets/images/Icons/ic_vpn_key_24px.svg'
                                                                        class='primaryKey'>
                                                                </span>
                                                                <span class="column right spannerColNameSpan"></span>
                                                            </div>
                                                        </td>
                                                        <td class='acc-table-td srcDataType'></td>
                                                        <td class='sp-column acc-table-td spannerDataType'>
                                                            <div class='saveDataType template'></div>
                                                            <div class='editDataType template'>
                                                                <div class="form-group">
                                                                    <select
                                                                        class="form-control spanner-input table-select">
                                                                        <option class='dataTypeOption template'>
                                                                        </option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td class='acc-table-td'>
                                                            <select multiple size='1'
                                                                class='form-control spanner-input table-select srcConstraint'>
                                                                <option disabled class='srcNotNullConstraint'>Not Null
                                                                </option>
                                                            </select>
                                                        </td>
                                                        <td class='acc-table-td sp-column acc-table-td'>
                                                            <div class='saveConstraint template'>
                                                                <select multiple size='1'
                                                                    class='form-control spanner-input table-select spannerConstraint'>
                                                                    <option disabled class='spannerNotNullConstraint'>
                                                                        Not Null</option>
                                                                </select>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <div class='fk-card template' style="border-radius: 0px !important;">
                                                <div class='foreign-key-header' role='tab'>
                                                    <h5 class='mb-0'>
                                                        <a class='fk-font' data-toggle='collapse'>
                                                            Foreign Keys
                                                        </a>
                                                    </h5>
                                                </div>
                                                <div class='collapse fk-collapse'>
                                                    <div class='mdc-card mdc-card-content summary-border'
                                                        style='border: 0px;'>
                                                        <div class='mdc-card fk-content'>
                                                            <fieldset>
                                                                <div class="radio-class">
                                                                    <input type="radio" class="radio addRadio"
                                                                        value="add" checked="checked" disabled />
                                                                    <label style='margin-right: 15px;' for="add">
                                                                        Use as Foreign Key</label>
                                                                    <input type="radio" class="radio interleaveRadio"
                                                                        value="interleave" disabled />
                                                                    <label style='margin-right: 15px;'
                                                                        for="interleave">Convert to Interleave</label>
                                                                </div>
                                                            </fieldset>
                                                            <br>
                                                            <table class='fk-acc-table fk-table'>
                                                                <thead>
                                                                    <tr>
                                                                        <th>Name</th>
                                                                        <th>Columns</th>
                                                                        <th>Refer Table</th>
                                                                        <th>Refer Columns</th>
                                                                        <th>Action</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody class='fkTableBody'>
                                                                    <tr class='fkTableTr template'>
                                                                        <td class='acc-table-td fkTableName'>
                                                                            <div class='renameFk template'>
                                                                                <input type="text"
                                                                                    class="form-control spanner-input"
                                                                                    autocomplete='off'>
                                                                            </div>
                                                                            <div class='saveFk template'></div>
                                                                        </td>
                                                                        <td class='acc-table-td fkTableColumns'></td>
                                                                        <td class='acc-table-td fkTableReferTable'></td>
                                                                        <td class='acc-table-td fkTableReferColumns'>
                                                                        </td>
                                                                        <td class='acc-table-td fkTableAction'>
                                                                            <button class="drop-button"
                                                                                data-toggle="tooltip"
                                                                                data-placement="bottom"
                                                                                title="this will delete foreign key permanently"
                                                                                disabled>
                                                                                <span><i class="large material-icons remove-icon"
                                                                                        style="vertical-align: middle;">delete</i></span>
                                                                                <span
                                                                                    style="vertical-align: middle;">Drop</span>
                                                                            </button>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class='indexesCard template' style="border-radius: 0px !important;">
                                                <div class='foreign-key-header' role='tab'>
                                                    <h5 class='mb-0'>
                                                        <a class='index-font' data-toggle='collapse'>
                                                            Secondary Indexes
                                                        </a>
                                                    </h5>
                                                </div>
                                                <div class='collapse index-collapse'>
                                                    <div class='mdc-card mdc-card-content summary-border'
                                                        style='border: 0px;'>
                                                        <div class='mdc-card fk-content'>
                                                            <button class='new-index-button'
                                                                onclick="createNewSecIndex(this.id)">Add Index</button>
                                                            <table class='index-acc-table fk-table'>
                                                                <thead>
                                                                    <tr>
                                                                        <th>Name</th>
                                                                        <th>Table</th>
                                                                        <th>Unique</th>
                                                                        <th>Keys</th>
                                                                        <th>Action</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody class='indexTableBody'>
                                                                    <tr class='indexTableTr template'>
                                                                        <td class='acc-table-td indexesName'>
                                                                            <div class='renameSecIndex template'>
                                                                                <input type="text"
                                                                                    class="form-control spanner-input"
                                                                                    autocomplete='off'>
                                                                            </div>
                                                                            <div class='saveSecIndex template'></div>
                                                                        </td>
                                                                        <td class='acc-table-td indexesTable'></td>
                                                                        <td class='acc-table-td indexesUnique'></td>
                                                                        <td class='acc-table-td indexesKeys'></td>
                                                                        <td class='acc-table-td indexesAction'>
                                                                            <button class="drop-button" disabled>
                                                                                <span><i class="large material-icons remove-icon"
                                                                                        style="vertical-align: middle;">delete</i></span>
                                                                                <span
                                                                                    style="vertical-align: middle;">Drop</span>
                                                                            </button>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class='summary-card'>
                                                <div class='summary-card-header' role='tab'>
                                                    <h5 class='mb-0'>
                                                        <a data-toggle='collapse' class='summary-font'>View
                                                            Summary</a>
                                                    </h5>
                                                </div>
                                                <div class='collapse inner-summary-collapse'>
                                                    <div class='mdc-card mdc-card-content summary-border'
                                                        style='border: 0px;'>
                                                        <div class='mdc-card summary-content'></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
            <div id="ddl" class="tab-pane fade">
                <div class="panel-group" id="ddl-accordion">
                    <button class='expand' id='ddlExpandButton' onclick='ddlExpandHandler(jQuery(this))'>Expand
                        All</button>
                    <button id="download-ddl" class="expand right-align" onclick='downloadDdl()'>Download DDL
                        Statements</button>
                    <div id='ddlDiv'>
                        <section class='ddlSection template'>
                            <div class='card'>
                                <div class='card-header ddl-card-header ddl-border-bottom' role='tab'>
                                    <h5 class='mb-0'>
                                        <a data-toggle='collapse'>Table: <span></span> <i
                                                class="fas fa-angle-down rotate-icon"></i></a>
                                    </h5>
                                </div>
                                <div class='collapse ddlCollapse'>
                                    <div class='mdc-card mdc-card-content ddl-border table-card-border'>
                                        <div class='mdc-card ddl-content'>
                                            <pre><code> </code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
            <div id="summary" class="tab-pane fade">
                <div class="panel-group" id="summary-accordion">
                    <button class='expand' id='summaryExpandButton' onclick='summaryExpandHandler(jQuery(this))'>Expand
                        All</button>
                    <button id="download-report" class="expand right-align" onclick='downloadReport()'>Download Summary
                        Report</button>
                    <div id='summaryDiv'>
                        <section class='summarySection template'>
                            <div class='card'>
                                <div class='card-header ddl-card-header ddl-border-bottom' role='tab'>
                                    <h5 class='mb-0'>
                                        <a data-toggle='collapse'>
                                            Table: <span></span><i class="fas fa-angle-down rotate-icon"></i>
                                        </a>
                                    </h5>
                                </div>
                                <div class='collapse summary-collapse'>
                                    <div class='mdc-card mdc-card-content ddl-border table-card-border'>
                                        <div class='mdc-card summary-content'></div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="globalDataTypeModal" role="dialog" tabindex="-1" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header content-center">
                <h5 class="modal-title modal-bg" id="exampleModalLongTitle">Global Data Type Mapping</h5>
                <i class="large material-icons close" data-dismiss="modal">cancel</i>
            </div>
            <div class="modal-body" style='margin: auto; margin-top: 20px;'>
                <div class="data-mapping-card" id='globalDataType'>
                    <table class='data-type-table' id='globalDataTypeTable'>
                        <tbody id='globalDataTypeBody'>
                            <tr>
                                <th>Source</th>
                                <th>Spanner</th>
                            </tr>
                            <tr class='globalDataTypeRow template'>
                                <td class='src-td'></td>
                                <td id='globalDataTypeCell'>
                                    <div style='display: flex;'>
                                        <i class="large material-icons warning" style='cursor: pointer;'>warning</i>
                                        <select class='form-control table-select' style='border: 0px !important;'>
                                            <option class='dataTypeOption template'></option>
                                        </select>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer" style='margin-top: 20px;'>
                <button id="data-type-button" data-dismiss="modal" onclick="setGlobalDataType()" class="connect-button"
                    type="button" style='margin-right: 24px !important;'>Next</button>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="foreignKeyDeleteWarning" role="dialog" tabindex="-1" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true" data-backdrop="static" data-keyboard="false" style="z-index: 999999;">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header content-center">
                <h5 class="modal-title modal-bg" id="exampleModalLongTitle">Warning</h5>
                <i class="large material-icons close" data-dismiss="modal">cancel</i>
            </div>
            <div class="modal-body" style='margin-bottom: 20px; display: inherit;'>
                <div><i class="large material-icons connection-failure" style="color: #E1AD01D4 !important;">warning</i>
                </div>
                <div id="failureContent">
                    This will permanently delete the foreign key constraint and the corresponding uniqueness constraints
                    on referenced columns. Do you want to continue?
                </div>
            </div>
            <div class="modal-footer">
                <button data-dismiss="modal" class="connect-button" type="button"
                    onclick="dropForeignKeyHandler()">Yes</button>
                <button data-dismiss="modal" class="connect-button" type="button">No</button>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="secIndexDeleteWarning" role="dialog" tabindex="-1" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true" data-backdrop="static" data-keyboard="false" style="z-index: 999999;">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header content-center">
                <h5 class="modal-title modal-bg" id="exampleModalLongTitle">Warning</h5>
                <i class="large material-icons close" data-dismiss="modal">cancel</i>
            </div>
            <div class="modal-body" style='margin-bottom: 20px; display: inherit;'>
                <div><i class="large material-icons connection-failure" style="color: #E1AD01D4 !important;">warning</i>
                </div>
                <div id="failureContent">
                    This will permanently delete the secondary index and the corresponding uniqueness constraints on
                    indexed columns (if applicable). Do you want to continue?
                </div>
            </div>
            <div class="modal-footer">
                <button data-dismiss="modal" class="connect-button" type="button"
                    onclick="dropSecondaryIndexHandler()">Yes</button>
                <button data-dismiss="modal" class="connect-button" type="button">No</button>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="editTableWarningModal" role="dialog" tabindex="-1" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true" data-backdrop="static" data-keyboard="false" style="z-index: 999999;">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header content-center">
                <h5 class="modal-title modal-bg" id="exampleModalLongTitle">Error Message</h5>
                <i class="large material-icons close" data-dismiss="modal">cancel</i>
            </div>
            <div class="modal-body" style='margin-bottom: 20px; display: inherit;'>
                <div><i class="large material-icons connection-failure" style="color: #FF0000 !important;">cancel</i>
                </div>
                <div id="errorContent">
                </div>
            </div>
            <div class="modal-footer">
                <button data-dismiss="modal" class="connect-button" type="button">Ok</button>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="editColumnNameErrorModal" role="dialog" tabindex="-1" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true" data-backdrop="static" data-keyboard="false" style="z-index: 999999;">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header content-center">
                <h5 class="modal-title modal-bg" id="exampleModalLongTitle">Error Message</h5>
                <i class="large material-icons close" data-dismiss="modal">cancel</i>
            </div>
            <div class="modal-body" style='margin-bottom: 20px; display: inherit;'>
                <div><i class="large material-icons connection-failure" style="color: #FF0000 !important;">cancel</i>
                </div>
                <div id="editColumnNameErrorContent">
                </div>
            </div>
            <div class="modal-footer">
                <button data-dismiss="modal" class="connect-button" type="button">Ok</button>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="createIndexModal" role="dialog" tabindex="-1" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true" data-backdrop="static" data-keyboard="false" style="z-index: 999999;">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header content-center">
                <h5 class="modal-title modal-bg" id="exampleModalLongTitle">Select keys for new index</h5>
                <i class="large material-icons close" data-dismiss="modal" onclick="clearModal()">cancel</i>
            </div>
            <div class="modal-body" style='margin-bottom: 20px;'>


                <form id="createIndexForm">
                    <div class="form-group sec-index-label">
                        <label for="indexName" class="bmd-label-floating" style="color: black; width: 452px;">Enter
                            secondary index name</label>
                        <input type="text" class="form-control" name="indexName" id="indexName" autocomplete="off"
                            onfocusout="validateInput(document.getElementById('indexName'), 'indexNameError')"
                            style="border: 1px solid black !important;">
                        <span class='form-error' id='indexNameError'></span>
                    </div>
                    <div class="newIndexColumnList template">
                        <span class="order-id" style="visibility: hidden;">1</span><span class="columnName"></span>

                        <span class="bmd-form-group is-filled">
                            <div class="checkbox" style="float: right;">
                                <label>
                                    <input type="checkbox" value="">
                                    <span class="checkbox-decorator"><span class="check"
                                            style="border: 1px solid black;"></span>
                                        <div class="ripple-container"></div>
                                    </span>
                                </label>
                            </div>

                        </span>
                    </div>
                    <div id="newIndexColumnListDiv" style="max-height: 200px; overflow-y: auto; overflow-x: hidden;">
                    </div>
                    <!-- <div style="display: inline-flex;">
                        <div class="pmd-chip">Example Chip <a class="pmd-chip-action" href="javascript:void(0);">
                            <i class="material-icons">close</i></a>
                        </div>
                    </div>
                    <br> -->
                    <div style="display: inline-flex;">
                        <span style="margin-top: 18px; margin-right: 10px;">Unique</span>
                        <label class="switch">
                            <input id="uniqueSwitch" type="checkbox">
                            <span class="slider round" id="sliderSpan"></span>
                        </label>
                    </div>
                </form>


            </div>
            <div class="modal-footer">
                <input type="submit"
                    onclick="fetchIndexFormValues(document.getElementById('indexName').value, document.getElementById('uniqueSwitch').checked)"
                    id="createIndexButton" class="connect-button" value="Create" disabled>
            </div>
        </div>
    </div>
</div>

<script src="assets/js/dynamic-table.js"></script>